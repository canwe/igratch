(function($){$.extend($.fn,{nextAll:function(s){var $els=$(),$el=this.next();while($el.length){if(typeof s==="undefined"||$el.is(s))$els=$els.add($el);$el=$el.next()}return $els},prevAll:function(s){var $els=$(),$el=this.prev();while($el.length){if(typeof s==="undefined"||$el.is(s))$els=$els.add($el);$el=$el.prev()}return $els},textboxlister:function(options){var opts=$.extend(true,$.TextboxLister.defaults,options);return this.each(function(){new $.TextboxLister(this,opts)})},autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,max:options&&!options.scroll?10:150},options);options.highlight=options.highlight||function(value){return value};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options)})},result:function(handler){return this.on("result",handler)}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var globalFailure=null;if(options.failure!=null&&typeof options.failure=="function"){globalFailure=options.failure}var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false}});$input.bind("keyup change",function(event){hasFocus=1;lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:if(select.visible()){event.preventDefault();select.prev()}else{onChange(0,true)}break;case KEY.DOWN:if(select.visible()){event.preventDefault();select.next()}else{onChange(0,true)}break;case KEY.PAGEUP:if(select.visible()){event.preventDefault();select.pageUp()}else{onChange(0,true)}break;case KEY.PAGEDOWN:if(select.visible()){event.preventDefault();select.pageDown()}else{onChange(0,true)}break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();blockSubmit=true;return false}break;case KEY.ESC:select.hide();break;default:clearTimeout(timeout);timeout=window.setTimeout(onChange,options.delay);break}}).focus(function(){hasFocus++}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults()}}).click(function(){if(options.clickFire){if(!select.visible()){onChange(0,true)}}else{if(hasFocus++>1&&!select.visible()){onChange(0,true)}}}).on("flushCache",function(){cache.flush()}).on("setOptions",function(){$.extend(true,options,arguments[1]);if("data"in arguments[1])cache.populate()}).on("unautocomplete",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete")}).on("autocompleteData",function(e,res,term){var data=options.parse&&options.parse(res)||parse(res);receiveData(term,data)});function selectCurrent(){var selected=select.selected();if(!selected)return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){var seperator=options.multipleSeparator.length;var cursorAt=$(input).selection().start;var wordAt,progress=0;$.each(words,function(i,word){progress+=word.length;if(cursorAt<=progress){wordAt=i;return false}progress+=seperator});words[wordAt]=v;v=words.join(options.multipleSeparator)}v+=options.multipleSeparator}$input.val(v);hideResultsNow();$input.trigger("result",[selected.data,selected.value]);return true}function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL){select.hide();return}var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue){return}previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){$input.addClass(options.loadingClass);if(!options.matchCase)currentValue=currentValue.toLowerCase();request(currentValue,receiveData,hideResultsNow)}else{stopLoading();select.hide()}}function trimWords(value){if(!value)return[""];if(!options.multiple)return[$.trim(value)];return $.map(value.split(options.multipleSeparator),function(word){return $.trim(value).length?$.trim(word):null})}function lastWord(value){if(!options.multiple)return value;var words=trimWords(value);if(words.length==1)return words[0];var cursorAt=$(input).selection().start;if(cursorAt==value.length){words=trimWords(value)}else{words=trimWords(value.replace(value.substring(cursorAt),""))}return words[words.length-1]}function autoFill(q,sValue){if(options.autoFill&&lastWord($input.val()).toLowerCase()==q.toLowerCase()&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$(input).selection(previousValue.length,previousValue.length+sValue.length)}}function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200)}function hideResultsNow(){var wasVisible=select.visible();select.hide();clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.search(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""))}else{$input.val("");$input.trigger("result",null)}}})}}function receiveData(q,data){if(data&&data.length&&hasFocus){stopLoading();select.display(data,q);autoFill(q,data[0].value);select.show()}else{hideResultsNow()}}function request(term,success,failure){if(!options.matchCase)term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data)}else if(options.autocomplete){var extraParams={timestamp:+new Date};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param($input):param});if(options.autocomplete.postback)eval(options.autocomplete.postback)}else{select.emptyList();if(globalFailure!=null){globalFailure()}else{failure(term)}}}function parse(data){var parsed=[];var i,row;for(i in data){row=data[i];parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]}}return parsed}function stopLoading(){$input.removeClass(options.loadingClass)}};$.Autocompleter.defaults={inputClass:"textboxlister-autocomplete-input",resultsClass:"tbl-autocomplete",loadingClass:"textboxlister-autocomplete-loading",minChars:1,delay:10,matchCase:false,matchSubset:true,matchContains:false,cacheLength:100,max:1e3,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[1]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:" ",inputFocus:true,clickFire:false,inputFocus:true,clickFire:false,highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180,scrollJumpPosition:true};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(options.matchContains=="word"){i=s.toLowerCase().search("\\b"+sub.toLowerCase())}if(i==-1)return false;return i==0||options.matchContains}function add(q,value){if(length>options.cacheLength){flush()}if(!data[q]){length++}data[q]=value}function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=typeof rawValue=="string"?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row)}}$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value)})}setTimeout(populate,25);function flush(){data={};length=0}return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x)}})}}return csub}else if(data[q]){return data[q]}else if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x}});return csub}}}return null}}};$.Autocompleter.Select=function(options,input,select,config){var CLASSES={ACTIVE:"active"};var b=$(input).parent().parent();var listItems,active=-1,data,term="",needsInit=true,list;function init(){if(!needsInit)return;list=$("<ul/>").addClass("dropdown-menu").addClass(options.resultsClass).hide().appendTo(b).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=="LI"){active=$("li",list).removeClass(CLASSES.ACTIVE).index(target(event));$(target(event)).addClass(CLASSES.ACTIVE)}}).click(function(event){$(target(event)).addClass(CLASSES.ACTIVE);select();if(options.inputFocus)input.focus();return false}).mousedown(function(){config.mouseDownOnSelect=true}).mouseup(function(){config.mouseDownOnSelect=false});if(options.width>0)list.css("width",options.width);needsInit=false}function target(event){var element=event.target;while(element&&element.tagName!="LI")element=element.parentNode;if(!element)return[];return element}function moveSelect(step){listItems.slice(active,active+1).removeClass(CLASSES.ACTIVE);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(CLASSES.ACTIVE);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight});if(offset+activeItem[0].offsetHeight-list.scrollTop()>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight())}else if(offset<list.scrollTop()){list.scrollTop(offset)}}}function movePosition(step){if(options.scrollJumpPosition||!options.scrollJumpPosition&&!(step<0&&active==0||step>0&&active==listItems.size()-1)){active+=step;if(active<0){active=listItems.size()-1}else if(active>=listItems.size()){active=0}}}function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available}function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)continue;$("<li/>").attr("data-tbl-autocomplete",JSON.stringify(data[i])).append($("<a href='#'/>").html(options.highlight(formatted,term))).appendTo(list)}listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(CLASSES.ACTIVE);active=0}if($.fn.bgiframe)list.bgiframe()}return{display:function(d,q){init();data=d;term=q;fillList()},next:function(){moveSelect(1)},prev:function(){moveSelect(-1)},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active)}else{moveSelect(-8)}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active)}else{moveSelect(8)}},hide:function(){list&&list.hide();listItems&&listItems.removeClass(CLASSES.ACTIVE);active=-1},visible:function(){return list&&list.css("display")!=="none"},current:function(){return this.visible()&&(listItems.filter("."+CLASSES.ACTIVE)[0]||options.selectFirst&&listItems[0])},show:function(){list.css({left:$(input).offset().left,top:b.offset().top+b.height()}).show();if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:"auto"});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight});var scrollbarsVisible=listHeight>options.scrollHeight;list.css("height",scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")))}}}},selected:function(){var selected=listItems&&listItems.filter("."+CLASSES.ACTIVE).removeClass(CLASSES.ACTIVE);var data=selected;if($(selected).attr("data-tbl-autocomplete")){data=JSON.parse($(selected).attr("data-tbl-autocomplete"))}return selected&&selected.length&&data},emptyList:function(){list&&list.empty()},unbind:function(){list&&list.remove()}}};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){if(this.createTextRange){var selRange=this.createTextRange();if(end===undefined||start==end){selRange.move("character",start);selRange.select()}else{selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select()}}else if(this.setSelectionRange){this.setSelectionRange(start,end)}else if(this.selectionStart){this.selectionStart=start;this.selectionEnd=end}})}var field=this[0];if(field.createTextRange){var range=document.selection.createRange(),orig=field.value,teststring="<->",textLength=range.text.length;range.text=teststring;var caretAt=field.value.indexOf(teststring);field.value=orig;this.selection(caretAt,caretAt+textLength);return{start:caretAt,end:caretAt+textLength}}else if(field.selectionStart!==undefined){return{start:field.selectionStart,end:field.selectionEnd}}};$.TextboxLister=function(elem,opts){var dir={self:0,prev:1,next:2};var self=this;var cursor,focused=false;self.input=$(elem);elem.textboxLister=self;self.opts=opts;$(self.input).attr("data-list",true);var valContainer=$("<div class="+self.opts.listValuesContainerClass+"></div>");self.container=self.input.wrap(valContainer);self.mainContainer=self.input.parent().wrap("<div class="+self.opts.containerClass+"></div>");self.mainContainer.focusin(function(){focused=true});$(document).focusin(function(e){focused=$(e.target).closest(self.mainContainer).length!=0});if(self.opts.clearControl){$(self.opts.clearControl).click(function(){self.clear();this.blur();return false})}if(self.opts.resetControl){$(self.opts.resetControl).click(function(){self.reset();this.blur();return false})}if(self.opts.autocomplete){self.input.attr("autocomplete","off").autocomplete(self.opts.autocomplete,self.opts).result(function(event,data,value){self.select(data[0])})}else{self.input.keypress(function(event){if(event.keyCode==13){var val=self.input.val();if(val){self.select(val);event.preventDefault();return false}}})}$(document).keydown(function(e){if(!focused)return;if($("."+self.opts.containerClass+" *:focus").length==0&&$("."+self.opts.listValueSelectedClass).length==0)return;if($(self.input).is(":focus")&&self.input.val().length>0)return;var eStop=function(){e.stopPropagation();e.preventDefault()};switch(e.keyCode){case 8:if(self.input.val().length==0){eStop();if(self.cursor){var el=self.cursor;if($(self.cursor).prev("span."+self.opts.listValueClass).is("span")){self.focusTag(self.cursor,"prev")}else{self.input.focus()}self.deselect(el.find("input").val())}else{var tag=self.input.prev("span."+self.opts.listValueClass);if($(tag).length>0){self.focusTag(tag,"self");self.input.blur()}}}return;case self.opts.keys.prev:eStop();if(self.cursor){self.focusTag(self.cursor,"prev")}else{var tag=self.input.prev("span."+self.opts.listValueClass);if($(tag).length>0){self.focusTag(tag,"self");self.input.blur()}}break;case self.opts.keys.next:eStop();self.focusTag(self.cursor,"next");break;case self.opts.keys.del:eStop();var val=$(self.cursor).find("input").val();if($(self.cursor).next("span."+self.opts.listValueClass).is("span")){self.focusTag(self.cursor,"next")}else if($(self.cursor).prev("span."+self.opts.listValueClass).is("span")){self.focusTag(self.cursor,"prev")}else{self.input.focus()}self.input.trigger("DeleteTag",val);break}});self.input.on("focus",function(){$(this).parent().addClass("focus")});self.input.on("blur",function(){$(this).parent().removeClass("focus")});self.input.on("TagClick",function(e,val){self.focusTag(val,"self")});self.input.on("UpdateTags",function(e){var input=$(self.input);var tagsCont=input.parent();var tags=input.prevAll("span.tbl-tag");var il=tagsCont.width()-10;var span=input.prevAll("span");var i,offset=0,width,empty=0,tag;for(i=0;i<span.length;i++){tag=$(span[i]);width=tag.width()+parseInt(tag.css("margin-left"),10)+parseInt(tag.css("margin-right"),10);offset=offset+width;if(offset>il){empty=empty+(offset-il);offset=width}}var iw=il-offset;if(il-offset<40)iw=il;input.css({width:iw-(parseInt(input.css("margin-left"),10)+parseInt(input.css("margin-right"),10))})});self.input.bind("AddValue",function(e,val){if(val){self.select(val)}});self.input.on("DeleteTag",function(e,val){if(val){self.deselect([val]);if(!self.cursor)$(self.input).focus()}});self.input.bind("Reset",function(e){self.reset()});self.input.bind("Clear",function(e){self.clear()});self.currentValues=[];self.titleOfValue=[];if(self.input.val()){self.select(self.input.val().split(/\s*,\s*/).sort(),true)}self.initialValues=self.currentValues.slice();var wd=self.input.parent().width()-(parseInt(self.input.css("margin-left"),10)+parseInt(self.input.css("margin-right"),10))-(parseInt(self.input.css("padding-left"),10)+parseInt(self.input.css("padding-right"),10));self.input.css({width:wd});self.input.show();self.input.trigger("UpdateTags");return this};$.TextboxLister.prototype.focusTag=function(span,direction){if($(span).length>0){var self=this;if(direction=="self"){var tag=$("."+self.opts.listValueSelectedClass);self.cursor=span;$(span).addClass(self.opts.listValueSelectedClass)}else if(direction=="prev"){var prev=$(span).prev("span."+self.opts.listValueClass);if(prev.is("span")){$(self.cursor).removeClass(self.opts.listValueSelectedClass);prev.addClass(self.opts.listValueSelectedClass);self.cursor=prev}}else if(direction=="next"){var next=$(span).next("span."+self.opts.listValueClass);if(next.is("span")){$(self.cursor).removeClass(self.opts.listValueSelectedClass);next.addClass(self.opts.listValueSelectedClass);self.cursor=next}else{$(self.cursor).removeClass(self.opts.listValueSelectedClass);self.cursor=null;self.input.focus()}}}};$.TextboxLister.prototype.clear=function(){var self=this;self.container.parent().find("."+self.opts.listValueClass).remove();self.currentValues=[];self.titleOfValue=[];if(typeof self.opts.onClear=="function"){self.opts.onClear(self)}};$.TextboxLister.prototype.reset=function(){var self=this;self.clear();self.select(self.initialValues);if(typeof self.opts.onReset=="function"){self.opts.onReset(self)}};$.TextboxLister.prototype.select=function(values,suppressCallback){var self=this,i,j,val,title,close,found,currentVal,input;if(typeof values==="object"){values=values.join(",")}if(typeof values!=="undefined"&&typeof values!=="null"){values=values.split(/\s*,\s*/).sort()}else{values=""}for(i=0;i<values.length;i++){val=values[i];found=false;if(!val){continue}title=val;if(val.match(/^(.*)=(.*)$/)){values[i]=val=RegExp.$1;self.titleOfValue["_"+val]=RegExp.$2}}if(self.currentValues.length>0){for(i=0;i<values.length;i++){val=values[i];found=false;if(!val){continue}for(j=0;j<self.currentValues.length;j++){currentVal=self.currentValues[j];if(currentVal==val){found=true;break}}if(!found){self.currentValues.push(val)}}}else{self.currentValues=[];for(i=0;i<values.length;i++){val=values[i];if(val){self.currentValues.push(val)}}}if(self.opts.doSort){self.currentValues=self.currentValues.sort()}var cursorVal=$(self.cursor).find("input").val();self.cursor=null;self.container.parent().find("."+self.opts.listValueClass).remove();for(i=self.currentValues.length-1;i>=0;i--){val=self.currentValues[i];if(!val)continue;input="<input type='hidden' name='"+self.input.attr("id")+"' value='"+val+"'/>";close=$("<a class='"+self.opts.closeClass+"' href='#'>&times;</a>");close.on("click",function(e){var val=$(this).parent().parent().find("input[type=hidden]").val();self.input.trigger("DeleteTag",val);return false});title=$("<span>"+(self.titleOfValue["_"+val]||val)+"</span>");title.addClass(self.opts.titleClass);title.append(close);var sp=$("<span></span>").addClass(self.opts.listValueClass).append(input).append(title).prependTo(self.container.parent()).on("click",function(){self.input.trigger("TagClick",$(this))});if(val==cursorVal){sp.addClass("active");self.cursor=sp}}self.input.val("");if(!suppressCallback&&typeof self.opts.onSelect=="function"){self.opts.onSelect(self)}self.input.trigger("UpdateTags")};$.TextboxLister.prototype.deselect=function(values){var self=this,newValues=[],i,j,currentVal,found,val;if(typeof values=="object"){values=values.join(",")}values=values.split(/\s*,\s*/);if(!values.length){return}for(i=0;i<self.currentValues.length;i++){currentVal=self.currentValues[i];if(!currentVal)continue;found=false;for(j=0;j<values.length;j++){val=values[j];if(val&&currentVal==val){found=true;break}}if(!found&&currentVal){newValues.push(currentVal)}}self.currentValues=newValues;if(typeof self.opts.onDeselect=="function"){self.opts.onDeselect(self)}self.select(newValues,true)};$.TextboxLister.defaults={containerClass:"tbl",listValuesContainerClass:"tbl-tags",listValueClass:"tbl-tag",listValueSelectedClass:"active",titleClass:"tbl-tag-label",closeClass:"close",keys:{prev:37,next:39,del:46},doSort:false,resetControl:undefined,clearControl:undefined,autocomplete:undefined,onClear:undefined,onReset:undefined,onSelect:undefined,onDeselect:undefined,selectFirst:false,autoFill:false,matchCase:false,matchContains:false,matchSubset:true}})(window.jQuery||window.Zepto); !function($){"use strict";var Selectpicker=function(element,options,e){if(e){e.stopPropagation();e.preventDefault()}this.$element=$(element);this.$newElement=null;this.button=null;this.$menu=null;this.options=$.extend({},$.fn.selectpicker.defaults,this.$element.data(),typeof options=="object"&&options);if(this.options.title==null){this.options.title=this.$element.attr("title")}this.val=Selectpicker.prototype.val;this.render=Selectpicker.prototype.render;this.refresh=Selectpicker.prototype.refresh;this.setStyle=Selectpicker.prototype.setStyle;this.selectAll=Selectpicker.prototype.selectAll;this.deselectAll=Selectpicker.prototype.deselectAll;this.init()};Selectpicker.prototype={constructor:Selectpicker,init:function(e){this.$element.hide();this.multiple=this.$element.prop("multiple");var id=this.$element.attr("id");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.button=this.$newElement.find("> button");if(id!==undefined){var _this=this;this.button.attr("data-id",id);$('label[for="'+id+'"]').click(function(){_this.button.focus()})}if(this.multiple){this.$newElement.addClass("show-tick")}this.checkDisabled();this.checkTabIndex();this.clickListener();this.render();this.liHeight();this.setWidth();this.setStyle();if(this.options.container){this.selectPosition()}},createDropdown:function(){var drop="<div class='btn-group bootstrap-select'>"+"<button type='button' class='btn dropdown-toggle' data-toggle='dropdown'>"+"<div class='filter-option pull-left'></div>&nbsp;"+"<div class='caret'></div>"+"</button>"+"<div class='dropdown-menu open'>"+"<ul class='dropdown-menu inner' role='menu'>"+"</ul>"+"</div>"+"</div>";return $(drop)},createView:function(){var $drop=this.createDropdown();var $li=this.createLi();$drop.find("ul").append($li);return $drop},reloadLi:function(){this.destroyLi();var $li=this.createLi();this.$newElement.find("ul").append($li)},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var _this=this,_liA=[],_liHtml="";this.$element.find("option").each(function(index){var $this=$(this);var optionClass=$this.attr("class")||"";var text=$this.html();var subtext=$this.data("subtext")!==undefined?'<small class="muted">'+$this.data("subtext")+"</small>":"";var icon=$this.data("icon")!==undefined?'<i class="'+$this.data("icon")+'"></i> ':"";if(icon!==""&&($this.is(":disabled")||$this.parent().is(":disabled"))){icon="<span>"+icon+"</span>"}text=icon+'<span class="text">'+text+subtext+"</span>";if(_this.options.hideDisabled&&($this.is(":disabled")||$this.parent().is(":disabled"))){_liA.push('<a style="min-height: 0; padding: 0"></a>')}else if($this.parent().is("optgroup")&&$this.data("divider")!=true){if($this.index()==0){var label=$this.parent().attr("label");var labelSubtext=$this.parent().data("subtext")!==undefined?'<small class="muted">'+$this.parent().data("subtext")+"</small>":"";var labelIcon=$this.parent().data("icon")?'<i class="'+$this.parent().data("icon")+'"></i> ':"";label=labelIcon+'<span class="text">'+label+labelSubtext+"</span>";if($this[0].index!=0){_liA.push('<div class="div-contain"><div class="divider"></div></div>'+"<dt>"+label+"</dt>"+_this.createA(text,"opt "+optionClass))}else{_liA.push("<dt>"+label+"</dt>"+_this.createA(text,"opt "+optionClass))}}else{_liA.push(_this.createA(text,"opt "+optionClass))}}else if($this.data("divider")==true){_liA.push('<div class="div-contain"><div class="divider"></div></div>')}else if($(this).data("hidden")==true){_liA.push("")}else{_liA.push(_this.createA(text,optionClass))}});$.each(_liA,function(i,item){_liHtml+="<li rel="+i+">"+item+"</li>"});if(!this.multiple&&this.$element.find("option:selected").length==0&&!_this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return $(_liHtml)},createA:function(text,classes){return'<a tabindex="0" class="'+classes+'">'+text+'<i class="icon-ok check-mark"></i>'+"</a>"},render:function(){var _this=this;this.$element.find("option").each(function(index){_this.setDisabled(index,$(this).is(":disabled")||$(this).parent().is(":disabled"));_this.setSelected(index,$(this).is(":selected"))});var selectedItems=this.$element.find("option:selected").map(function(index,value){var $this=$(this);var icon=$this.data("icon")&&_this.options.showIcon?'<i class="'+$this.data("icon")+'"></i> ':"";var subtext;if(_this.options.showSubtext&&$this.attr("data-subtext")&&!_this.multiple){subtext=' <small class="muted">'+$this.data("subtext")+"</small>"}else{subtext=""}if($this.attr("title")!=undefined){return $this.attr("title")}else if($this.attr("label")!=undefined){return $this.attr("label")}else{return icon+$this.text()+subtext}}).toArray();var title=!this.multiple?selectedItems[0]:selectedItems.join(", ");if(_this.multiple&&_this.options.selectedTextFormat.indexOf("count")>-1){var max=_this.options.selectedTextFormat.split(">");var notDisabled=this.options.hideDisabled?":not([disabled])":"";if(max.length>1&&selectedItems.length>max[1]||max.length==1&&selectedItems.length>=2){title=_this.options.countSelectedText.replace("{0}",selectedItems.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+notDisabled).length)}}if(!title){title=_this.options.title!=undefined?_this.options.title:_this.options.noneSelectedText}var subtext;if(this.options.showSubtext&&this.$element.find("option:selected").attr("data-subtext")){subtext=' <small class="muted">'+this.$element.find("option:selected").data("subtext")+"</small>"}else{subtext=""}_this.$newElement.find(".filter-option").html(title+subtext)},setStyle:function(style,status){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker/gi,""))}var buttonClass=style?style:this.options.style;if(status=="add"){this.button.addClass(buttonClass)}else{this.button.removeClass(this.options.style);this.button.addClass(buttonClass)}},liHeight:function(){var selectClone=this.$newElement.clone();selectClone.appendTo("body");var liHeight=selectClone.addClass("open").find(".dropdown-menu li > a").outerHeight();selectClone.remove();this.$newElement.data("liHeight",liHeight)},setSize:function(){var _this=this,menu=this.$newElement.find("> .dropdown-menu"),menuInner=menu.find(".inner"),menuA=menuInner.find("li > a"),selectHeight=this.$newElement.outerHeight(),liHeight=this.$newElement.data("liHeight"),divHeight=menu.find("li .divider").outerHeight(true),menuPadding=parseInt(menu.css("padding-top"))+parseInt(menu.css("padding-bottom"))+parseInt(menu.css("border-top-width"))+parseInt(menu.css("border-bottom-width")),notDisabled=this.options.hideDisabled?":not(.disabled)":"",menuHeight;if(this.options.size=="auto"){var getSize=function(){var selectOffset_top=_this.$newElement.offset().top;var selectOffset_top_scroll=selectOffset_top-$(window).scrollTop();var windowHeight=$(window).height();var menuExtras=menuPadding+parseInt(menu.css("margin-top"))+parseInt(menu.css("margin-bottom"))+2;var selectOffset_bot=windowHeight-selectOffset_top_scroll-selectHeight-menuExtras;var minHeight;menuHeight=selectOffset_bot;if(_this.$newElement.hasClass("dropup")){menuHeight=selectOffset_top_scroll-menuExtras}if(menu.find("li").length+menu.find("dt").length>3){minHeight=liHeight*3+menuExtras-2}else{minHeight=0}menu.css({"max-height":menuHeight+"px",overflow:"hidden","min-height":minHeight+"px"});menuInner.css({"max-height":menuHeight-menuPadding+"px","overflow-y":"auto"})};getSize();$(window).resize(getSize);$(window).scroll(getSize)}else if(this.options.size&&this.options.size!="auto"&&menu.find("li"+notDisabled).length>this.options.size){var optIndex=menu.find("li"+notDisabled+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index();var divLength=menu.find("li").slice(0,optIndex+1).find(".div-contain").length;menuHeight=liHeight*this.options.size+divLength*divHeight+menuPadding;menu.css({"max-height":menuHeight+"px",overflow:"hidden"});menuInner.css({"max-height":menuHeight-menuPadding+"px","overflow-y":"auto"})}},setWidth:function(){var menu=this.$newElement.find("> .dropdown-menu");if(this.options.width=="auto"){menu.css("min-width","0");var ulWidth=menu.css("width");this.$newElement.css("width",ulWidth)}else if(this.options.width){this.$newElement.css("width",this.options.width)}},selectPosition:function(){var _this=this,drop="<div />",$drop=$(drop),pos,actualHeight,getPlacement=function($element){$drop.addClass($element.attr("class").replace(/open/gi,""));pos=$element.offset();actualHeight=$element[0].offsetHeight;$drop.css({top:pos.top+actualHeight,left:pos.left,width:$element[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){getPlacement($(this));$drop.toggleClass("open");$drop.append(_this.$menu);$drop.appendTo(_this.options.container);return false});$(window).resize(function(){getPlacement(_this.$newElement)});$(window).scroll(function(){getPlacement(_this.$newElement)});$("html").on("click",function(){$drop.removeClass("open")})},refresh:function(){this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled()},setSelected:function(index,selected){if(selected){this.$menu.find("li").eq(index).addClass("selected")}else{this.$menu.find("li").eq(index).removeClass("selected")}},setDisabled:function(index,disabled){if(disabled){this.$menu.find("li").eq(index).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1)}else{this.$menu.find("li").eq(index).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element.is(":disabled")||this.$element.attr("readonly")},checkDisabled:function(){if(this.isDisabled()){this.button.addClass("disabled");this.button.click(function(e){return false});this.button.attr("tabindex","-1")}else if(!this.isDisabled()&&this.button.hasClass("disabled")){this.button.removeClass("disabled");this.button.click(function(){return true});this.button.removeAttr("tabindex")}},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var tabindex=this.$element.attr("tabindex");this.button.attr("tabindex",tabindex)}},clickListener:function(){var _this=this;$("body").on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()});this.$newElement.on("click",function(){_this.setSize()});this.$menu.on("click","li a",function(e){var clickedIndex=$(this).parent().index(),$this=$(this).parent(),prevValue=_this.$element.val();if(_this.multiple){e.stopPropagation()}e.preventDefault();if(_this.$element.not(":disabled")&&!$(this).parent().hasClass("disabled")){if(!_this.multiple){_this.$element.find("option").prop("selected",false);_this.$element.find("option").eq(clickedIndex).prop("selected",true)}else{var selected=_this.$element.find("option").eq(clickedIndex).prop("selected");if(selected){_this.$element.find("option").eq(clickedIndex).prop("selected",false)}else{_this.$element.find("option").eq(clickedIndex).prop("selected",true)}}_this.button.focus();if(prevValue!=_this.$element.val()){_this.$element.trigger("change")}_this.render()}});this.$menu.on("click","li.disabled a, li dt, li .div-contain",function(e){e.preventDefault();e.stopPropagation();var $select=$(this).parent().parents(".bootstrap-select");_this.button.focus()});this.$element.on("change",function(e){_this.render()})},val:function(value){if(value!=undefined){this.$element.val(value);this.$element.trigger("change");return this.$element}else{return this.$element.val()}},selectAll:function(){this.$element.find("option").prop("selected",true).attr("selected","selected");this.render()},deselectAll:function(){this.$element.find("option").prop("selected",false).removeAttr("selected");this.render()},keydown:function(e){var $this,$items,$parent,index,next,first,last,prev,nextPrev;$this=$(this);$parent=$this.parent();$items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;if(/(38|40)/.test(e.keyCode)){index=$items.index($items.filter(":focus"));first=$items.parent(":not(.disabled)").first().index();last=$items.parent(":not(.disabled)").last().index();next=$items.eq(index).parent().nextAll(":not(.disabled)").eq(0).index();prev=$items.eq(index).parent().prevAll(":not(.disabled)").eq(0).index();nextPrev=$items.eq(next).parent().prevAll(":not(.disabled)").eq(0).index();if(e.keyCode==38){if(index!=nextPrev&&index>prev)index=prev;if(index<first)index=first}if(e.keyCode==40){if(index!=nextPrev&&index<next)index=next;if(index>last)index=last}$items.eq(index).focus()}else{var keyCodeMap={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};var keyIndex=[];$items.each(function(){if($(this).parent().is(":not(.disabled)")){if($.trim($(this).text().toLowerCase()).substring(0,1)==keyCodeMap[e.keyCode]){keyIndex.push($(this).parent().index())}}});var count=$(document).data("keycount");count++;$(document).data("keycount",count);var prevKey=$.trim($(":focus").text().toLowerCase()).substring(0,1);if(prevKey!=keyCodeMap[e.keyCode]){count=1;$(document).data("keycount",count)}else if(count>=keyIndex.length){$(document).data("keycount",0)}$items.eq(keyIndex[count-1]).focus()}if(/(13)/.test(e.keyCode)){$(":focus").click();$parent.addClass("open");$(document).data("keycount",0)}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()}};$.fn.selectpicker=function(option,event){var args=arguments;var value;var chain=this.each(function(){if($(this).is("select")){var $this=$(this),data=$this.data("selectpicker"),options=typeof option=="object"&&option;if(!data){$this.data("selectpicker",data=new Selectpicker(this,options,event))}else if(options){for(var i in options){data.options[i]=options[i]}}if(typeof option=="string"){var property=option;if(data[property]instanceof Function){[].shift.apply(args);value=data[property].apply(data,args)}else{value=data.options[property]}}}});if(value!=undefined){return value}else{return chain}};$.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",countSelectedText:"{0} of {1} selected",width:null,container:false,hideDisabled:false,showSubtext:false,showIcon:true};$(document).data("keycount",0).on("keydown","[data-toggle=dropdown], [role=menu]",Selectpicker.prototype.keydown);$(window).on("load",function(){$(".selectpicker").each(function(){var $select=$(this);$select.selectpicker($select.data())})})}(window.jQuery); (function($){$.isScrollToFixed=function(el){return $(el).data("ScrollToFixed")!==undefined};$.ScrollToFixed=function(el,options){var base=this;base.$el=$(el);base.el=el;base.$el.data("ScrollToFixed",base);var isReset=false;var target=base.$el;var position;var originalPosition;var originalOffset;var offsetTop=0;var offsetLeft=0;var originalOffsetLeft=-1;var lastOffsetLeft=-1;var spacer=null;var spacerClass;var className;function resetScroll(){target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");lastOffsetLeft=-1;offsetTop=target.offset().top;offsetLeft=target.offset().left;if(base.options.offsets){offsetLeft+=target.offset().left-target.position().left}if(originalOffsetLeft==-1){originalOffsetLeft=offsetLeft}position=target.css("position");isReset=true;if(base.options.bottom!=-1){target.trigger("preFixed.ScrollToFixed");setFixed();target.trigger("fixed.ScrollToFixed")}}function getLimit(){var limit=base.options.limit;if(!limit)return 0;if(typeof limit==="function"){return limit.apply(target)}return limit}function isFixed(){return position==="fixed"}function isAbsolute(){return position==="absolute"}function isUnfixed(){return!(isFixed()||isAbsolute())}function setFixed(){if(!isFixed()){spacer.css({display:target.css("display"),width:target.outerWidth(true),height:target.outerHeight(true),"float":target.css("float")});cssOptions={position:"fixed",top:base.options.bottom==-1?getMarginTop():"",bottom:base.options.bottom==-1?"":base.options.bottom,"margin-left":"0px"};if(!base.options.dontSetWidth){cssOptions["width"]=target.width()}target.css(cssOptions);target.addClass("scroll-to-fixed-fixed");if(base.options.className){target.addClass(base.options.className)}position="fixed"}}function setAbsolute(){var top=getLimit();var left=offsetLeft;if(base.options.removeOffsets){left=0;top=top-offsetTop}cssOptions={position:"absolute",top:top,left:left,"margin-left":"0px",bottom:""};if(!base.options.dontSetWidth){cssOptions["width"]=target.width()}target.css(cssOptions);position="absolute"}function setUnfixed(){if(!isUnfixed()){lastOffsetLeft=-1;spacer.css("display","none");target.css({width:"",position:originalPosition,left:"",top:originalOffset.top,"margin-left":""});target.removeClass("scroll-to-fixed-fixed");if(base.options.className){target.removeClass(base.options.className)}position=null}}function setLeft(x){if(x!=lastOffsetLeft){target.css("left",offsetLeft-x);lastOffsetLeft=x}}function getMarginTop(){var marginTop=base.options.marginTop;if(!marginTop)return 0;if(typeof marginTop==="function"){return marginTop.apply(target)}return marginTop}function checkScroll(){if(!$.isScrollToFixed(target))return;var wasReset=isReset;if(!isReset){resetScroll()}var x=$(window).scrollLeft();var y=$(window).scrollTop();var limit=getLimit();if(base.options.minWidth&&$(window).width()<base.options.minWidth){if(!isUnfixed()||!wasReset){postPosition();target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed")}}else if(base.options.bottom==-1){if(limit>0&&y>=limit-getMarginTop()){if(!isAbsolute()||!wasReset){postPosition();target.trigger("preAbsolute.ScrollToFixed");setAbsolute();target.trigger("unfixed.ScrollToFixed")}}else if(y>=offsetTop-getMarginTop()){if(!isFixed()||!wasReset){postPosition();target.trigger("preFixed.ScrollToFixed");setFixed();lastOffsetLeft=-1;target.trigger("fixed.ScrollToFixed")}setLeft(x)}else{if(!isUnfixed()||!wasReset){postPosition();target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed")}}}else{if(limit>0){if(y+$(window).height()-target.outerHeight(true)>=limit-(getMarginTop()||-getBottom())){if(isFixed()){postPosition();target.trigger("preUnfixed.ScrollToFixed");if(originalPosition==="absolute"){setAbsolute()}else{setUnfixed()}target.trigger("unfixed.ScrollToFixed")}}else{if(!isFixed()){postPosition();target.trigger("preFixed.ScrollToFixed");setFixed()}setLeft(x);target.trigger("fixed.ScrollToFixed")}}else{setLeft(x)}}}function getBottom(){if(!base.options.bottom)return 0;return base.options.bottom}function postPosition(){var position=target.css("position");if(position=="absolute"){target.trigger("postAbsolute.ScrollToFixed")}else if(position=="fixed"){target.trigger("postFixed.ScrollToFixed")}else{target.trigger("postUnfixed.ScrollToFixed")}}var windowResize=function(event){if(target.is(":visible")){isReset=false;checkScroll()}};var windowScroll=function(event){checkScroll()};var isPositionFixedSupported=function(){var container=document.body;if(document.createElement&&container&&container.appendChild&&container.removeChild){var el=document.createElement("div");if(!el.getBoundingClientRect)return null;el.innerHTML="x";el.style.cssText="position:fixed;top:100px;";container.appendChild(el);var originalHeight=container.style.height,originalScrollTop=container.scrollTop;container.style.height="3000px";container.scrollTop=500;var elementTop=el.getBoundingClientRect().top;container.style.height=originalHeight;var isSupported=elementTop===100;container.removeChild(el);container.scrollTop=originalScrollTop;return isSupported}return null};var preventDefault=function(e){e=e||window.event;if(e.preventDefault){e.preventDefault()}e.returnValue=false};base.init=function(){base.options=$.extend({},$.ScrollToFixed.defaultOptions,options);base.$el.css("z-index",base.options.zIndex);spacer=$("<div />");position=target.css("position");originalPosition=target.css("position");originalOffset=$.extend({},target.offset());if(isUnfixed())base.$el.after(spacer);$(window).bind("resize.ScrollToFixed",windowResize);$(window).bind("scroll.ScrollToFixed",windowScroll);if(base.options.preFixed){target.bind("preFixed.ScrollToFixed",base.options.preFixed)}if(base.options.postFixed){target.bind("postFixed.ScrollToFixed",base.options.postFixed)}if(base.options.preUnfixed){target.bind("preUnfixed.ScrollToFixed",base.options.preUnfixed)}if(base.options.postUnfixed){target.bind("postUnfixed.ScrollToFixed",base.options.postUnfixed)}if(base.options.preAbsolute){target.bind("preAbsolute.ScrollToFixed",base.options.preAbsolute)}if(base.options.postAbsolute){target.bind("postAbsolute.ScrollToFixed",base.options.postAbsolute)}if(base.options.fixed){target.bind("fixed.ScrollToFixed",base.options.fixed)}if(base.options.unfixed){target.bind("unfixed.ScrollToFixed",base.options.unfixed)}if(base.options.spacerClass){spacer.addClass(base.options.spacerClass)}target.bind("resize.ScrollToFixed",function(){spacer.height(target.height())});target.bind("scroll.ScrollToFixed",function(){target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");checkScroll()});target.bind("detach.ScrollToFixed",function(ev){preventDefault(ev);target.trigger("preUnfixed.ScrollToFixed");setUnfixed();target.trigger("unfixed.ScrollToFixed");$(window).unbind("resize.ScrollToFixed",windowResize);$(window).unbind("scroll.ScrollToFixed",windowScroll);target.unbind(".ScrollToFixed");base.$el.removeData("ScrollToFixed")});windowResize()};base.init()};$.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3};$.fn.scrollToFixed=function(options){return this.each(function(){new $.ScrollToFixed(this,options)})}})(jQuery); !function($){"use strict";var Slider=function(element,options){this.element=$(element);this.picker=$('<div class="slider">'+'<div class="slider-track">'+'<div class="slider-selection"></div>'+'<div class="slider-handle"></div>'+'<div class="slider-handle"></div>'+"</div>"+'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'+"</div>").insertBefore(this.element).append(this.element);this.id=this.element.data("slider-id")||options.id;if(this.id){this.picker[0].id=this.id}if(typeof Modernizr!=="undefined"&&Modernizr.touch){this.touchCapable=true}var tooltip=this.element.data("slider-tooltip")||options.tooltip;this.tooltip=this.picker.find(".tooltip");this.tooltipInner=this.tooltip.find("div.tooltip-inner");this.orientation=this.element.data("slider-orientation")||options.orientation;switch(this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px";break}this.min=this.element.data("slider-min")||options.min;this.max=this.element.data("slider-max")||options.max;this.step=this.element.data("slider-step")||options.step;this.value=this.element.data("slider-value")||options.value;if(this.value[1]){this.range=true}this.selection=this.element.data("slider-selection")||options.selection;this.selectionEl=this.picker.find(".slider-selection");if(this.selection==="none"){this.selectionEl.addClass("hide")}this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;var handle=this.element.data("slider-handle")||options.handle;switch(handle){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle");break}if(this.range){this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0]));this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))}else{this.value=[Math.max(this.min,Math.min(this.max,this.value))];this.handle2.addClass("hide");if(this.selection=="after"){this.value[1]=this.max}else{this.value[1]=this.min}}this.diff=this.max-this.min;this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];this.formater=eval("["+this.element.data("slider-formater")+"]")[0]||options.formatter;this.layout();if(this.touchCapable){this.picker.on({touchstart:$.proxy(this.mousedown,this)})}else{this.picker.on({mousedown:$.proxy(this.mousedown,this)})}if(tooltip==="show"){this.picker.on({mouseenter:$.proxy(this.showTooltip,this),mouseleave:$.proxy(this.hideTooltip,this)})}else{this.tooltip.addClass("hide")}};Slider.prototype={constructor:Slider,over:false,inDrag:false,showTooltip:function(){this.tooltip.addClass("in");this.over=true},hideTooltip:function(){if(this.inDrag===false){this.tooltip.removeClass("in")}this.over=false},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";if(this.orientation=="vertical"){this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%";this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"}else{this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%";this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"}if(this.range){this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1]));this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"}else{this.tooltipInner.text(this.formater(this.value[0]));this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-(this.orientation==="vertical"?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"}},mousedown:function(ev){if(this.touchCapable&&ev.type==="touchstart"){ev=ev.originalEvent}this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];var percentage=this.getPercentage(ev);if(this.range){var diff1=Math.abs(this.percentage[0]-percentage);var diff2=Math.abs(this.percentage[1]-percentage);this.dragged=diff1<diff2?0:1}else{this.dragged=0}this.percentage[this.dragged]=percentage;this.layout();if(this.touchCapable){$(document).on({touchmove:$.proxy(this.mousemove,this),touchend:$.proxy(this.mouseup,this)})}else{$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)})}this.inDrag=true;var val=this.calculateValue();this.element.trigger({type:"slideStart",value:val}).trigger({type:"slide",value:val});return false},mousemove:function(ev){if(this.touchCapable&&ev.type==="touchmove"){ev=ev.originalEvent}var percentage=this.getPercentage(ev);if(this.range){if(this.dragged===0&&this.percentage[1]<percentage){this.percentage[0]=this.percentage[1];this.dragged=1}else if(this.dragged===1&&this.percentage[0]>percentage){this.percentage[1]=this.percentage[0];this.dragged=0}}this.percentage[this.dragged]=percentage;this.layout();var val=this.calculateValue();this.element.trigger({type:"slide",value:val}).data("value",val).prop("value",val);return false},mouseup:function(ev){if(this.touchCapable){$(document).off({touchmove:this.mousemove,touchend:this.mouseup})}else{$(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}this.inDrag=false;if(this.over==false){this.hideTooltip()}this.element;var val=this.calculateValue();this.element.trigger({type:"slideStop",value:val}).data("value",val).prop("value",val);return false},calculateValue:function(){var val;if(this.range){val=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step];this.value=val}else{val=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step;this.value=[val,this.value[1]]}return val},getPercentage:function(ev){if(this.touchCapable){ev=ev.touches[0]}var percentage=(ev[this.mousePos]-this.offset[this.stylePos])*100/this.size;percentage=Math.round(percentage/this.percentage[2])*this.percentage[2];return Math.max(0,Math.min(100,percentage))},getValue:function(){if(this.range){return this.value}return this.value[0]},setValue:function(val){this.value=val;if(this.range){this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0]));this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))}else{this.value=[Math.max(this.min,Math.min(this.max,this.value))];this.handle2.addClass("hide");if(this.selection=="after"){this.value[1]=this.max}else{this.value[1]=this.min}}this.diff=this.max-this.min;this.percentage=[(this.value[0]-this.min)*100/this.diff,(this.value[1]-this.min)*100/this.diff,this.step*100/this.diff];this.layout()}};$.fn.slider=function(option,val){return this.each(function(){var $this=$(this),data=$this.data("slider"),options=typeof option==="object"&&option;if(!data){$this.data("slider",data=new Slider(this,$.extend({},$.fn.slider.defaults,options)))}if(typeof option=="string"){data[option](val)}})};$.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(value){return value}};$.fn.slider.Constructor=Slider;$.fn.slider.noConflict=function(){$.fn.slider=old;return this};$(window).on("load.slider.data-api",function(){$('[data-spy="slider"]').each(function(){var $spy=$(this);$spy.slider($spy.data())})})}(window.jQuery); !function($){"use strict";var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut,triggers,trigger,i;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.enabled=true;triggers=this.options.trigger.split(" ");for(i=triggers.length;i--;){trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){eventIn=trigger=="hover"?"mouseenter":"focus";eventOut=trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options},enter:function(e){var defaults=$.fn[this.type].defaults,options={},self;this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value},this);self=$(e.currentTarget)[this.type](options).data(this.type);if(!self.options.delay||!self.options.delay.show)return self.show();clearTimeout(this.timeout);self.hoverState="in";this.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!self.options.delay||!self.options.delay.hide)return self.hide();self.hoverState="out";this.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)},show:function(){var $tip,pos,actualWidth,actualHeight,placement,tp,e=$.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip=this.tip();this.setContent();if(this.options.animation){$tip.addClass("fade")}placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;$tip.detach().css({top:0,left:0,display:"block"});this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);pos=this.getPosition();actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;switch(placement){case"bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case"top":tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case"right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width};break}this.applyPlacement(tp,placement);this.$element.trigger("shown")}},applyPlacement:function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,actualWidth,actualHeight,delta,replace;$tip.offset(offset).addClass(placement).addClass("in");actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){offset.top=offset.top+height-actualHeight;replace=true}if(placement=="bottom"||placement=="top"){delta=0;if(offset.left<0){delta=offset.left*-2;offset.left=0;$tip.offset(offset);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight}this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else{this.replaceArrow(actualHeight-height,actualHeight,"top")}if(replace)$tip.offset(offset)},replaceArrow:function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},setContent:function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")},hide:function(){var that=this,$tip=this.tip(),e=$.Event("hide");this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).detach()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout);$tip.detach()})}$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var el=this.$element[0];return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},getTitle:function(){var title,$e=this.$element,o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var self=e?$(e.currentTarget)[this.type](this._options).data(this.type):this;self.tip().hasClass("in")?self.hide():self.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options=typeof option=="object"&&option;if(!data)$this.data("tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(window.jQuery); (function($){$.fn.upload=function(settings){var options=$.extend(true,{block_size:5*1024*1024,progressClass:"progress-striped",preview:false,value:"",beginUpload:function(){},deliverSlice:function(){},queryFile:function(){},complete:function(){}},settings);return this.filter('input[type="file"]').each(function(){return $.Upload(this,options)})};$.Upload=function(input,options){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return false;var $input=$(input);var self=this;var pid;var reader;var block_size=options.block_size;var cancelled_upload;var paused_upload;var start_time;var file;var file_index=0;var start_file_index;var browse_btn=$("<a>",{href:"#",title:"Browse"}).on("click",function(e){$input.trigger("click");e.preventDefault()}).append($("<i>",{"class":"icon-upload icon-2x"}));var upload_btn=$("<a>",{href:"#",title:"Upload"}).on("click",function(e){begin_upload();e.preventDefault()}).hide().append($("<i>",{"class":"icon-play-circle icon-2x"}));var reupload_btn=$("<a>",{href:"#",title:"Reupload"}).on("click",function(e){file_index=0;begin_upload();e.preventDefault()}).append($("<i>",{"class":"icon-refresh icon-light icon-2x"}));var resume_btn=$("<a>",{href:"#",title:"Resume"}).on("click",function(e){begin_upload();e.preventDefault()}).append($("<i>",{"class":"icon-play-circle icon-2x"}));var cancel_btn=$("<a>",{href:"#","class":"text-error",title:"Cancel"}).on("click",function(e){reset_upload();progress_label.html("");cancelled_upload=true;preview.html("");e.preventDefault()}).append($("<i>",{"class":"icon-remove icon-2x"}));var pause_btn=$("<a>",{href:"#","class":"",title:"Pause"}).on("click",function(e){paused_upload=true;pause_btn.hide();resume_btn.show();progress_label.html("");e.preventDefault()}).append($("<i>",{"class":"icon-pause icon-large"}));var etainfo=$("<span/>",{"class":"info"});var info=$("<span/>",{"class":"info",name:"info"});var progress_bar=$("<div/>",{"class":"bar",style:"width:0;"}).on("progress-changed",function(e,progress){progress_bar.css("width",progress+"%");if(progress===48){$("i",pause_btn).addClass("icon-light");$("i",resume_btn).addClass("icon-light")}progress_bar.css("width",progress+"%")});var progress_label=$("<div/>",{"class":"progress-label"});var progress_ctl=$("<div/>",{"class":"progress-ctl"}).append(upload_btn,pause_btn,resume_btn,reupload_btn);var progress=$("<div/>",{"class":"progress progress-info "+options.progressClass}).append(progress_bar,progress_label,progress_ctl);var ctl=$("<div/>",{"class":"ctl"}).append(cancel_btn,info,etainfo,browse_btn);var preview=$("<div/>",{"class":"preview"});$input.wrap("<div class='file_upload' contenteditable='false'></div>").hide().parent().append(preview,progress,ctl);if(options.value!=="undefined"){preview.html("<img src='"+options.value+"'/>")}var file_buttons=$("a",$input.parent());$input.on("change",function(e){file=this.files[0];if(!file)return;info.html("&nbsp;&nbsp;"+file.name+"&nbsp;&nbsp;");progress_label.html("");file_buttons.hide();browse_btn.show();upload_btn.show();cancel_btn.show();progress_bar.css("width","0");if(options.preview=="true"&&file.type.match("image*")){reader=new FileReader;reader.onload=function(f){return function(e){preview.html($("<img/>",{src:e.target.result,title:f.name,width:preview.width()}))}}(file);reader.readAsDataURL(file)}else{preview.html("")}var type=file.type===""?Bert.atom("undefined"):Bert.binary(file.type);options.queryFile(Bert.tuple(Bert.atom("query"),Bert.binary(file.name),type))}).on("exist",function(e,fileSize){file_index=0;var size=parseInt(fileSize);if(size>0){file_index=size;file_buttons.hide();browse_btn.show();reupload_btn.show();if(file_index<file.size){resume_btn.show();progress_label.html("Upload incomplete")}else{progress_label.html("File exists")}update_progress_bar()}}).on("begin_upload",function(e,pid){self.pid=pid;read_slice(file_index,block_size)}).on("upload",function(e,fileSize){var size=parseInt(fileSize);if(!paused_upload&&!cancelled_upload&&file_index<file.size){read_slice(file_index,file_index+block_size)}if(paused_upload)progress_label.html("");if(cancelled_upload){reset_upload();progress_label.html("")}}).on("error",function(e,msg){error(msg)}).on("reset",function(e){reset_upload()});function reset_upload(){file_buttons.hide();browse_btn.show();cancelled_upload=false;paused_upload=false;preview.html("");info.html("");progress_label.html("");progress_bar.css("width","0");$("i",pause_btn).removeClass("icon-light");$("i",resume_btn).removeClass("icon-light")}function error(message){console.log("error "+message);reset_upload();$("<div/>",{"class":"alert alert-error"}).append($("<button>",{type:"button","class":"close","data-dismiss":"alert"}).html("&times;")).append(message).prependTo($input.parent());$(".progress-info",$input.parent()).removeClass("progress-info").addClass("progress-danger");progress_bar.css("width","100%");progress_label.html(message)}function onabort(event){error("File upload aborted");reader.abort()}function onerror(event){switch(event.target.error.code){case event.target.error.NOT_FOUND_ERR:error("File not found");break;case event.target.error.NOT_READABLE_ERR:error("File is not readable");break;case event.target.error.ABORT_ERR:error("File upload aborted");break;default:error("An error occurred reading the file.")}}function onloadend(event){if(event.target.readyState==FileReader.DONE){if(options.deliverSlice(Bert.tuple(Bert.atom("upload"),Bert.binary(self.pid),Bert.binary(event.target.result)))==false){error("Error delivering data to server");return}file_index+=block_size;calculate_eta();update_progress_bar();if(file_index>=file.size){file_buttons.hide();browse_btn.show();progress_label.html("Upload complete");etainfo.html("");options.complete(Bert.tuple(Bert.atom("complete"),Bert.binary(self.pid)))}}}function calculate_eta(){var delta_ms=Date.now()-start_time;var rate=(file_index-start_file_index)/delta_ms;var remaining_ms=(file.size-file_index)/rate;if(remaining_ms<0)return;var delta_hr=parseInt(Math.floor(remaining_ms/36e5));remaining_ms-=delta_hr*36e5;var delta_min=parseInt(Math.floor(remaining_ms/6e4));remaining_ms-=delta_min*6e4;var delta_sec=parseInt(Math.floor(remaining_ms/1e3));var eta="";if(delta_sec>=0)eta=delta_sec+1+" secs";if(delta_min>0)eta=delta_min+" mins";if(delta_hr>0)eta=delta_hr+" hours";etainfo.html(eta)}function update_progress_bar(){var progress=Math.floor(100*(file_index/file.size));if(progress_bar[0].style.width!==progress+"%"){progress_bar.trigger("progress-changed",[progress])}}function read_slice(start,end){reader=new FileReader;reader.onabort=onabort;reader.onerror=onerror;reader.onloadend=onloadend;var blob=file.slice(start,end);reader.readAsBinaryString(blob)}function begin_upload(){file_buttons.hide();pause_btn.show();cancel_btn.show();progress_label.html("");start_time=Date.now();start_file_index=file_index;if(paused_upload)paused_upload=false;var type=file.type===""?Bert.atom("undefined"):Bert.binary(file.type);options.beginUpload(Bert.tuple(Bert.atom("begin_upload"),Bert.binary(file.name),type))}reset_upload();return this}})(window.jQuery||window.Zepto); !function($){"use strict";var Typeahead=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.typeahead.defaults,options);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=$(this.options.menu);this.shown=false;this.listen()};Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(val)).change();return this.hide()},updater:function(item){return item},show:function(){var pos=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:pos.top+pos.height,left:pos.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(event){var items;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}items=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source;return items?this.process(items):this},process:function(items){var that=this;items=$.grep(items,function(item){return that.matcher(item)});items=this.sorter(items);if(!items.length){return this.shown?this.hide():this}return this.render(items.slice(0,this.options.items)).show()},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item;while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase()))beginswith.push(item);else if(~item.indexOf(this.query))caseSensitive.push(item);else caseInsensitive.push(item)}return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return item.replace(new RegExp("("+query+")","ig"),function($1,match){return"<strong>"+match+"</strong>"})},render:function(items){var that=this;items=$(items).map(function(i,item){i=$(that.options.item).attr("data-value",item);i.find("a").html(that.highlighter(item));return i[0]});items.first().addClass("active");this.$menu.html(items);return this},next:function(event){var active=this.$menu.find(".active").removeClass("active"),next=active.next();if(!next.length){next=$(this.$menu.find("li")[0])}next.addClass("active")},prev:function(event){var active=this.$menu.find(".active").removeClass("active"),prev=active.prev();if(!prev.length){prev=this.$menu.find("li").last()}prev.addClass("active")},listen:function(){this.$element.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",$.proxy(this.keydown,this))}this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this))},eventSupported:function(eventName){var isSupported=eventName in this.$element;if(!isSupported){this.$element.setAttribute(eventName,"return;");isSupported=typeof this.$element[eventName]==="function"}return isSupported},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();break;case 40:e.preventDefault();this.next();break}e.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=~$.inArray(e.keyCode,[40,38,9,13,27]);this.move(e)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},focus:function(e){this.focused=true},blur:function(e){this.focused=false;if(!this.mousedover&&this.shown)this.hide()},click:function(e){e.stopPropagation();e.preventDefault();this.select();this.$element.focus()},mouseenter:function(e){this.mousedover=true;this.$menu.find(".active").removeClass("active");$(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=false;if(!this.focused&&this.shown)this.hide()}};var old=$.fn.typeahead;$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data("typeahead"),options=typeof option=="object"&&option;if(!data)$this.data("typeahead",data=new Typeahead(this,options));if(typeof option=="string")data[option]()})};$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};$.fn.typeahead.Constructor=Typeahead;$.fn.typeahead.noConflict=function(){$.fn.typeahead=old;return this};$(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var $this=$(this);if($this.data("typeahead"))return;$this.typeahead($this.data())})}(window.jQuery); !function($){"use strict";var Modal=function(element,options){this.options=options;this.$element=$(element).delegate('[data-dismiss="modal"]',"click.dismiss.modal",$.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};Modal.prototype={constructor:Modal,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var that=this,e=$.Event("show");this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(document.body)}that.$element.show();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();transition?that.$element.one($.support.transition.end,function(){that.$element.focus().trigger("shown")}):that.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var that=this;e=$.Event("hide");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();$(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);$.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var that=this;$(document).on("focusin.modal",function(e){if(that.$element[0]!==e.target&&!that.$element.has(e.target).length){that.$element.focus()}})},escape:function(){var that=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&that.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end);that.hideModal()},500);this.$element.one($.support.transition.end,function(){clearTimeout(timeout);that.hideModal()})},hideModal:function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?$.proxy(this.$element[0].focus,this.$element[0]):$.proxy(this.hide,this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback):callback()}else if(callback){callback()}}};var old=$.fn.modal;$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data("modal"),options=$.extend({},$.fn.modal.defaults,$this.data(),typeof option=="object"&&option);if(!data)$this.data("modal",data=new Modal(this,options));if(typeof option=="string")data[option]();else if(options.show)data.show()})};$.fn.modal.defaults={backdrop:true,keyboard:true,show:true};$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault();$target.modal(option).one("hide",function(){$this.focus()})})}(window.jQuery); !function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.prototype={cycle:function(e){if(!e)this.paused=false;if(this.interval)clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(pos){var activeIndex=this.getActiveIndex(),that=this;if(pos>this.$items.length-1||pos<0)return;if(this.sliding){return this.$element.one("slid",function(){that.to(pos)})}if(activeIndex==pos){return this.pause().cycle()}return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},pause:function(e){if(!e)this.paused=true;if(this.$element.find(".next, .prev").length&&$.support.transition.end){this.$element.trigger($.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction=type=="next"?"left":"right",fallback=type=="next"?"first":"last",that=this,e;this.sliding=true;isCycling&&this.pause();$next=$next.length?$next:this.$element.find(".item")[fallback]();e=$.Event("slide",{relatedTarget:$next[0],direction:direction});if($next.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);this.$element.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid")},0)})}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid")}isCycling&&this.cycle();return this}};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("carousel"),options=$.extend({},$.fn.carousel.defaults,typeof option=="object"&&option),action=typeof option=="string"?option:options.slide;if(!data)$this.data("carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})};$.fn.carousel.defaults={interval:5e3,pause:"hover"};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href,$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=$.extend({},$target.data(),$this.data()),slideIndex;$target.carousel(options);if(slideIndex=$this.attr("data-slide-to")){$target.data("carousel").pause().to(slideIndex).cycle()}e.preventDefault()})}(window.jQuery); !function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.collapse.defaults,options);if(this.options.parent){this.$parent=$(this.options.parent)}this.options.toggle&&this.toggle()};Collapse.prototype={constructor:Collapse,dimension:function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},show:function(){var dimension,scroll,actives,hasData;if(this.transitioning||this.$element.hasClass("in"))return;dimension=this.dimension();scroll=$.camelCase(["scroll",dimension].join("-"));actives=this.$parent&&this.$parent.find("> .accordion-group > .in");if(actives&&actives.length){hasData=actives.data("collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data("collapse",null)}this.$element[dimension](0);this.transition("addClass",$.Event("show"),"shown");$.support.transition&&this.$element[dimension](this.$element[0][scroll])},hide:function(){var dimension;if(this.transitioning||!this.$element.hasClass("in"))return;dimension=this.dimension();this.reset(this.$element[dimension]());this.transition("removeClass",$.Event("hide"),"hidden");this.$element[dimension](0)},reset:function(size){var dimension=this.dimension();this.$element.removeClass("collapse")[dimension](size||"auto")[0].offsetWidth;this.$element[size!==null?"addClass":"removeClass"]("collapse");return this},transition:function(method,startEvent,completeEvent){var that=this,complete=function(){if(startEvent.type=="show")that.reset();that.transitioning=0;that.$element.trigger(completeEvent)};this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;this.transitioning=1;this.$element[method]("in");$.support.transition&&this.$element.hasClass("collapse")?this.$element.one($.support.transition.end,complete):complete()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("collapse"),options=$.extend({},$.fn.collapse.defaults,$this.data(),typeof option=="object"&&option);if(!data)$this.data("collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.defaults={toggle:true};$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var $this=$(this),href,target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),option=$(target).data("collapse")?"toggle":$this.data();$this[$(target).hasClass("in")?"addClass":"removeClass"]("collapsed");$(target).collapse(option)})}(window.jQuery); !function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this),$element=$(element).is("body")?$(window):$(element),href;this.options=$.extend({},$.fn.scrollspy.defaults,options);this.$scrollElement=$element.on("scroll.scroll-spy.data-api",process);this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=$("body");this.refresh();this.process()}ScrollSpy.prototype={constructor:ScrollSpy,refresh:function(){var self=this,$targets;this.offsets=$([]);this.targets=$([]);$targets=this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#\w/.test(href)&&$(href);return $href&&$href.length&&[[$href.position().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})},process:function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget,i;if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}},activate:function(target){var active,selector;this.activeTarget=target;$(this.selector).parent(".active").removeClass("active");selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';active=$(selector).parent("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate")}};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data("scrollspy"),options=typeof option=="object"&&option;if(!data)$this.data("scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})};$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.defaults={offset:10};$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(window.jQuery); !function($){"use strict";var toggle="[data-toggle=dropdown]",Dropdown=function(element){var $el=$(element).on("click.dropdown.data-api",this.toggle);$("html").on("click.dropdown.data-api",function(){$el.parent().removeClass("open")})};Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,isActive;if($this.is(".disabled, :disabled"))return;$parent=getParent($this);isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement){$('<div class="dropdown-backdrop"/>').insertBefore($(this)).on("click",clearMenus)}$parent.toggleClass("open")}$this.focus();return false},keydown:function(e){var $this,$items,$active,$parent,isActive,index;if(!/(38|40|27)/.test(e.keyCode))return;$this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;$parent=getParent($this);isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}$items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()}};function clearMenus(){$(".dropdown-backdrop").remove();$(toggle).each(function(){getParent($(this)).removeClass("open")})}function getParent($this){var selector=$this.attr("data-target"),$parent;if(!selector){selector=$this.attr("href");selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}$parent=selector&&$(selector);if(!$parent||!$parent.length)$parent=$this.parent();return $parent}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("dropdown");if(!data)$this.data("dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.dropdown.data-api",clearMenus).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(window.jQuery); !function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype={constructor:Tab,show:function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.attr("data-target"),previous,$target,e;if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;previous=$ul.find(".active:last a")[0];e=$.Event("show",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;$target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown",relatedTarget:previous})})},activate:function(element,container,callback){var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next):next();$active.removeClass("in")}};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("tab");if(!data)$this.data("tab",data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();$(this).tab("show")})}(window.jQuery); !function($){"use strict";var Affix=function(element,options){this.options=$.extend({},$.fn.affix.defaults,options);this.$window=$(window).on("scroll.affix.data-api",$.proxy(this.checkPosition,this)).on("click.affix.data-api",$.proxy(function(){setTimeout($.proxy(this.checkPosition,this),1)},this));this.$element=$(element);this.checkPosition()};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height(),scrollTop=this.$window.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetBottom=offset.bottom,offsetTop=offset.top,reset="affix affix-top affix-bottom",affix;if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top();if(typeof offsetBottom=="function")offsetBottom=offset.bottom();affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?false:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?"top":false;if(this.affixed===affix)return;this.affixed=affix;this.unpin=affix=="bottom"?position.top-scrollTop:null;this.$element.removeClass(reset).addClass("affix"+(affix?"-"+affix:""))};var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this),data=$this.data("affix"),options=typeof option=="object"&&option;if(!data)$this.data("affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})};$.fn.affix.Constructor=Affix;$.fn.affix.defaults={offset:0};$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{};data.offsetBottom&&(data.offset.bottom=data.offsetBottom);data.offsetTop&&(data.offset.top=data.offsetTop);$spy.affix(data)})})}(window.jQuery); !function(t){function e(){function e(t){"remove"===t&&this.each(function(t,e){var n=r(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=tinymce.get(e.id.replace(/_parent$/,""));n&&n.remove()})}function i(t){var n,i=this;if(null!=t)e.call(i),i.each(function(e,n){var i;(i=tinymce.get(n.id))&&i.setContent(t)});else if(i.length>0&&(n=tinymce.get(i[0].id)))return n.getContent()}function r(t){var e=null;return t&&t.id&&a.tinymce&&(e=tinymce.get(t.id)),e}function c(t){return!!(t&&t.length&&a.tinymce&&t.is(":tinymce"))}var u={};t.each(["text","html","val"],function(e,a){var o=u[a]=t.fn[a],s="text"===a;t.fn[a]=function(e){var a=this;if(!c(a))return o.apply(a,arguments);if(e!==n)return i.call(a.filter(":tinymce"),e),o.apply(a.not(":tinymce"),arguments),a;var u="",l=arguments;return(s?a:a.eq(0)).each(function(e,n){var i=r(n);u+=i?s?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):o.apply(t(n),l)}),u}}),t.each(["append","prepend"],function(e,i){var a=u[i]=t.fn[i],o="prepend"===i;t.fn[i]=function(t){var e=this;return c(e)?t!==n?(e.filter(":tinymce").each(function(e,n){var i=r(n);i&&i.setContent(o?t+i.getContent():i.getContent()+t)}),a.apply(e.not(":tinymce"),arguments),e):void 0:a.apply(e,arguments)}}),t.each(["remove","replaceWith","replaceAll","empty"],function(n,i){var r=u[i]=t.fn[i];t.fn[i]=function(){return e.call(this,i),r.apply(this,arguments)}}),u.attr=t.fn.attr,t.fn.attr=function(e,a){var o=this,s=arguments;if(!e||"value"!==e||!c(o))return a!==n?u.attr.apply(o,s):u.attr.apply(o,s);if(a!==n)return i.call(o.filter(":tinymce"),a),u.attr.apply(o.not(":tinymce"),s),o;var l=o[0],p=r(l);return p?p.getContent({save:!0}):u.attr.apply(t(l),s)}}var n,i,r=[],a=window;t.fn.tinymce=function(n){function c(){var i=[],r=0;e&&(e(),e=null),l.each(function(t,e){var a,c=e.id,u=n.oninit;c||(e.id=c=tinymce.DOM.uniqueId()),tinymce.get(c)||(a=new tinymce.Editor(c,n,tinymce.EditorManager),i.push(a),a.on("init",function(){var t,e=u;l.css("visibility",""),u&&++r==i.length&&("string"==typeof e&&(t=-1===e.indexOf(".")?null:tinymce.resolve(e.replace(/\.\w+$/,"")),e=tinymce.resolve(e)),e.apply(t||tinymce,i))}))}),t.each(i,function(t,e){e.render()})}var u,o,s,l=this,p="";if(!l.length)return l;if(!n)return tinymce.get(l[0].id);if(l.css("visibility","hidden"),a.tinymce||i||!(u=n.script_url))1===i?r.push(c):c();else{i=1,o=u.substring(0,u.lastIndexOf("/")),-1!=u.indexOf(".min")&&(p=".min"),a.tinymce=a.tinyMCEPreInit||{base:o,suffix:p},-1!=u.indexOf("gzip")&&(s=n.language||"en",u=u+(/\?/.test(u)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(n.theme)+"&plugins="+escape(n.plugins)+"&languages="+s,a.tinyMCE_GZ||(a.tinyMCE_GZ={start:function(){function e(t){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(t))}e("langs/"+s+".js"),e("themes/"+n.theme+"/theme"+p+".js"),e("themes/"+n.theme+"/langs/"+s+".js"),t.each(n.plugins.split(","),function(t,n){n&&(e("plugins/"+n+"/plugin"+p+".js"),e("plugins/"+n+"/langs/"+s+".js"))})},end:function(){}}));var f=document.createElement("script");f.type="text/javascript",f.onload=f.onreadystatechange=function(e){e=e||event,("load"==e.type||/complete|loaded/.test(f.readyState))&&(tinymce.dom.Event.domLoaded=1,i=2,n.script_loaded&&n.script_loaded(),c(),t.each(r,function(t,e){e()}))},f.src=u,document.body.appendChild(f)}return l},t.extend(t.expr[":"],{tinymce:function(t){return!!(t.id&&"tinymce"in window&&tinymce.get(t.id))}})}(jQuery); !function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype,{constructor:Popover,setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content")[this.options.html?"html":"text"](content);$tip.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var content,$e=this.$element,o=this.options;content=(typeof o.content=="function"?o.content.call($e[0]):o.content)||$e.attr("data-content");return content},tip:function(){if(!this.$tip){this.$tip=$(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("popover"),options=typeof option=="object"&&option;if(!data)$this.data("popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})};$.fn.popover.Constructor=Popover;$.fn.popover.defaults=$.extend({},$.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(window.jQuery); !function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.button.defaults,options)};Button.prototype.setState=function(state){var d="disabled",$el=this.$element,data=$el.data(),val=$el.is("input")?"val":"html";state=state+"Text";data.resetText||$el.data("resetText",$el[val]());$el[val](data[state]||this.options[state]);setTimeout(function(){state=="loadingText"?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)};Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons-radio"]');$parent&&$parent.find(".active").removeClass("active");this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data("button"),options=typeof option=="object"&&option;if(!data)$this.data("button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})};$.fn.button.defaults={loadingText:"loading..."};$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");$btn.button("toggle")})}(window.jQuery); !function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this),selector=$this.attr("data-target"),$parent;if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}$parent=$(selector);e&&e.preventDefault();$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent());$parent.trigger(e=$.Event("close"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.trigger("closed").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.on($.support.transition.end,removeElement):removeElement()};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("alert");if(!data)$this.data("alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.alert.data-api",dismiss,Alert.prototype.close)}(window.jQuery); !function($){"use strict";$(function(){$.support.transition=function(){var transitionEnd=function(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},name;for(name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name]}}}();return transitionEnd&&{end:transitionEnd}}()})}(window.jQuery);
